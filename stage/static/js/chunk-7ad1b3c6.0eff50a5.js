(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ad1b3c6"],{2106:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingState,expression:"loadingState"}],staticClass:"carlnsurance"},[a("div",{staticClass:"carlnsurance-head"},[a("div",{staticClass:"carlnsurance-head-list"},[a("el-form",[a("el-row",e._l(e.headerList.slice(0,3),(function(t,n){return a("el-col",{key:n,attrs:{span:8}},[a("el-form-item",{attrs:{label:t.name+"："}},["input"===t.type?a("el-input",{attrs:{placeholder:"请选择"+t.name},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}}):e._e(),e._v(" "),"date"===t.type?a("el-date-picker",{attrs:{placeholder:"请选择"+t.name,type:"date"},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}}):e._e()],1)],1)})),1)],1)],1),e._v(" "),a("div",{staticClass:"carlnsurance-head-button"},[a("div",{staticClass:"head-button-tab"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.queryListData}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"head-button-tab"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:e.resetListData}},[e._v("重置")])],1)])]),e._v(" "),a("div",{staticClass:"carlnsurance-content"},[e._e(),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.listData.records,border:"","header-cell-style":e.pageTableHead}},e._l(e.publicTableList,(function(t,n){return a("el-table-column",{key:n,attrs:{prop:t.model,fixed:t.fixed,label:t.name,width:t.width},scopedSlots:e._u([{key:"default",fn:function(n){return[t.solt?e._e():a("span",[e._v("\n              "+e._s(n.row[t.model])+"\n            ")]),e._v(" "),"operation"===t.model&&t.solt?a("div",{staticClass:"content-botton-list"},[a("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(t){return e.lookDeatils(n.row.policyNo)}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(t){return e.lookReport(n.row.policyNo,n.row.carNum,n.row.frameNo)}}},[e._v("报案")])],1):e._e(),e._v(" "),"assureStartDate"===t.model||"assureEndDate"===t.model||"enrollDate"===t.model||"underwriteEndDate"===t.model&&t.solt?a("span",[e._v("\n              "+e._s(e.transformationDate(n.row[t.model]))+"\n            ")]):e._e()]}}],null,!0)})})),1),e._v(" "),a("div",{staticClass:"employer-content-pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","current-page":e.pageIndex,"page-count":e.listData.pages},on:{"current-change":e.changePageIndex}})],1)],1)])},o=[],i=(a("ac6a"),a("5530")),r=a("e2c1"),c=a("e3a6"),l=a("dce3"),s={data:function(){return{publicTableList:(new r["a"]).getCarInsuranceTabList(),headerList:[{name:"保单号",type:"input",key:"policyNo",model:""},{name:"投保人",type:"input",key:"insuredPersonName",model:""},{name:"车牌号",type:"input",key:"carNum",model:""},{name:"被保人",type:"input",key:"insuredName",model:""},{name:"起保日期",type:"date",key:"assureStartDate",model:""},{name:"终保日期",type:"date",key:"assureEndDate",model:""},{name:"险种名称",type:"input",key:"riskName",model:""},{name:"车主",type:"input",key:"carOwner",model:""},{name:"发动机号",type:"input",key:"engineNo",model:""},{name:"车架号",type:"input",key:"frameNo",model:""},{name:"车型名称",type:"input",key:"modelName",model:""}],loadingState:!1,drawerState:!1,direction:"rtl",pageIndex:1,actionUrl:"/carPolicy/export",pageSize:20,listData:{}}},created:function(){this.getCarPolicyQuery()},methods:{lookDeatils:function(e){this.$router.push("/insurancePolicy/carInsuranceDetails?policyNo=".concat(e))},lookReport:function(e,t,a){this.$router.push("/insurancePolicy/carInsuranceReport?policyNo=".concat(e,"&licenseNo=").concat(t,"&frameNo=").concat(a))},changePageIndex:function(e){this.pageIndex=e,this.getCarPolicyQuery()},openDrawer:function(){this.drawerState=!0},queryListData:function(){this.pageIndex=1,this.getCarPolicyQuery()},resetListData:function(){this.pageIndex=1,this.headerList=this.headerList.map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{model:""})})),this.getCarPolicyQuery()},importListData:function(){},exportListData:function(){var e=this,t={pageNum:this.pageIndex,pageSize:this.pageSize};this.headerList.forEach((function(e){e.key&&(t[e.key]=e.model)})),this.loadingState=!0,c["a"](t).then((function(t){e.loadingState=!1;var a=t,n=window.URL.createObjectURL(new Blob([a],{type:"application/octet-stream;charset=UTF-8"})),o=document.createElement("a");o.style.display="none",o.href=n,o.setAttribute("click","车险保单模板下载.xlsx"),document.body.appendChild(o),o.click(),document.body.removeChild(o)})).catch((function(){e.loadingState=!1}))},transformationDate:function(e){return l["a"](e)},getCarPolicyQuery:function(){var e=this,t={pageNum:this.pageIndex,pageSize:this.pageSize};this.headerList.forEach((function(e){e.key&&(t[e.key]=e.model)})),this.loadingState=!0,this.listData={},c["e"](t).then((function(t){e.loadingState=!1,e.listData=t.data,e.listData.records=e.listData.records.map((function(e,t){return Object(i["a"])(Object(i["a"])({},e),{},{number:t+1})}))})).catch((function(){e.loadingState=!1}))},pageTableHead:function(){return"text-align: center; background: #F6F7F9; color: #222222; font-size: 13px; font-weight: bold; padding: 0;"}}},u=s,d=(a("e0f5"),a("2877")),p=Object(d["a"])(u,n,o,!1,null,"c8ff8054",null);t["default"]=p.exports},"4ee3":function(e,t,a){},e0f5:function(e,t,a){"use strict";var n=a("4ee3"),o=a.n(n);o.a},e3a6:function(e,t,a){"use strict";a.d(t,"g",(function(){return o})),a.d(t,"e",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"f",(function(){return c})),a.d(t,"h",(function(){return l})),a.d(t,"i",(function(){return s})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return p}));var n=a("b775");a("1157");function o(e){return Object(n["a"])({url:"/employerPolicy/query",method:"post",data:e})}function i(e){return Object(n["a"])({url:"/carPolicy/query",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/carPolicy/detail/".concat(e),method:"get"})}function c(e){return Object(n["a"])({url:"/employerPolicy/detail/".concat(e),method:"get"})}function l(e){return Object(n["a"])({url:"/carClaims/lregist",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/nonCarClaims/lregist",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/carPolicy/export",method:"post",data:e})}function d(e){return Object(n["a"])({url:"/employerPolicy/export",method:"post",data:e})}function p(e){return Object(n["a"])({url:"/employerPolicy/import",method:"post",data:e})}}}]);